<nav class="fixed top-0 left-0 right-0 z-50 p-5 flex justify-between lg:justify-evenly items-center 
            bg-linear-to-b md:bg-linear-to-r from-white to-cyan-200 dark:from-slate-900 dark:to-cyan-950 
            shadow-2xl rounded-bl-4xl rounded-br-4xl transition-all duration-500">

    <div class="navLogo flex items-center">
        <h1 routerLink="/home" class="text-cyan-700 dark:text-cyan-400 cursor-pointer text-4xl ml-6 tracking-wide font-bold uppercase pr-4 border-r-[2.3px] border-r-cyan-300 dark:border-r-slate-700">
            tammenny
        </h1>
    </div>

    <div class="navLinks hidden lg:block">
        <ul class="flex justify-evenly gap-6 text-[22px] font-semibold">
            <li><a routerLink="/about" routerLinkActive="!text-cyan-600 dark:!text-cyan-400" class="text-blue-600 dark:text-slate-300 hover:text-cyan-500 transition-colors">About</a></li>
            <li><a routerLink="/services" routerLinkActive="!text-cyan-600 dark:!text-cyan-400" class="text-blue-600 dark:text-slate-300 hover:text-cyan-500 transition-colors">Services</a></li>
            <li><a routerLink="/departements" routerLinkActive="!text-cyan-600 dark:!text-cyan-400" class="text-blue-600 dark:text-slate-300 hover:text-cyan-500 transition-colors">Departments</a></li>
            <li><a routerLink="/doctors" routerLinkActive="!text-cyan-600 dark:!text-cyan-400" class="text-blue-600 dark:text-slate-300 hover:text-cyan-500 transition-colors">Doctors</a></li>
        </ul>
    </div>

    <div class="flex items-center gap-4">
        <button (click)="themeService.toggleTheme()" class="w-10 h-10 flex items-center justify-center rounded-full bg-slate-200 dark:bg-slate-800 transition-all">
            @if (themeService.isDarkMode()) {
                <i class="fa-solid fa-sun text-yellow-400 text-xl"></i>
            } @else {
                <i class="fa-solid fa-moon text-cyan-700 text-xl"></i>
            }
        </button>

        <div class="hidden lg:block">
            @if (isAuthenticated) {
                <button (click)="handleLogout()" class="px-5 py-2 bg-cyan-500 text-white rounded-xl font-bold hover:bg-cyan-600 transition-all shadow-md">Logout</button>
            } @else {
                <a routerLink="/login" class="px-5 py-2 bg-cyan-600 text-white rounded-xl font-bold hover:bg-cyan-700 transition-all shadow-md">Login</a>
            }
        </div>

        <button (click)="toggleMenu()" class="lg:hidden text-cyan-800 dark:text-cyan-400 cursor-pointer focus:outline-none">
            <i class="fa-solid transition-all duration-300 text-3xl" [class.fa-bars]="!isMenuOpen" [class.fa-xmark]="isMenuOpen"></i>
        </button>
    </div>

    @if (isMenuOpen) {
    <div class="absolute left-0 top-full right-0 mx-5 mt-2 p-6 lg:hidden
                bg-white dark:bg-slate-800 shadow-2xl rounded-3xl border border-cyan-100 dark:border-slate-700
                flex flex-col items-center gap-6 z-50 animate-fade-in-down">

        <ul class="w-full text-center space-y-2">
            <li class="w-full">
                <a routerLink="/about" routerLinkActive="bg-cyan-50 dark:bg-cyan-900/30 !text-cyan-600 dark:!text-cyan-400" 
                   (click)="isMenuOpen = false" class="py-3 px-4 rounded-xl text-xl font-bold text-slate-800 dark:text-slate-200 block transition-all">About</a>
            </li>
             <hr class="my-4 border-slate-100 dark:border-slate-700">
            <li class="w-full">
                <a routerLink="/services" routerLinkActive="bg-cyan-50 dark:bg-cyan-900/30 !text-cyan-600 dark:!text-cyan-400" 
                   (click)="isMenuOpen = false" class="py-3 px-4 rounded-xl text-xl font-bold text-slate-800 dark:text-slate-200 block transition-all">Services</a>
            </li>
             <hr class="my-4 border-slate-100 dark:border-slate-700">
            <li class="w-full">
                <a routerLink="/departements" routerLinkActive="bg-cyan-50 dark:bg-cyan-900/30 !text-cyan-600 dark:!text-cyan-400" 
                   (click)="isMenuOpen = false" class="py-3 px-4 rounded-xl text-xl font-bold text-slate-800 dark:text-slate-200 block transition-all">Departments</a>
            </li>
             <hr class="my-4 border-slate-100 dark:border-slate-700">
            <li class="w-full">
                <a routerLink="/doctors" routerLinkActive="bg-cyan-50 dark:bg-cyan-900/30 !text-cyan-600 dark:!text-cyan-400" 
                   (click)="isMenuOpen = false" class="py-3 px-4 rounded-xl text-xl font-bold text-slate-800 dark:text-slate-200 block transition-all">Doctors</a>
            </li>
            
            <hr class="my-4 border-slate-100 dark:border-slate-700">

            <li class="w-full">
                @if (isAuthenticated) {
                    <button (click)="handleLogout(); isMenuOpen = false" class="w-full py-3 bg-cyan-500 text-white rounded-xl font-bold">Logout</button>
                } @else {
                    <a routerLink="/login" (click)="isMenuOpen = false" class="w-full block py-3 bg-cyan-600 text-white rounded-xl font-bold">Login</a>
                }
            </li>
        </ul>
    </div>
    }
</nav>