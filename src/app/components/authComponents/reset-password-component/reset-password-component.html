<section class="py-28">
    <div class="max-w-6xl mx-auto px-6">
        <div class="container mx-auto">
            <div class="flex items-center justify-center min-h-screen p-4 relative">
                <div class="bg-linear-to-b md:bg-linear-to-r from-white  to-cyan-200  shadow-2xl rounded-4xl p-10 w-full max-w-lg">
                    <h1 class="text-3xl font-bold text-gray-800 mb-4">Reset Password</h1>

                    @if (errorText) {
                        <div class="my-4 p-3 rounded-lg text-center font-semibold bg-teal-300">
                            {{ errorText }}
                        </div>
                    }

                    <form [formGroup]="resetForm" (ngSubmit)="resetPassword()">
                        <p class="mb-4 text-sm text-gray-600">Resetting password for: **{{ userEmail }}**</p>

                        <div class="my-5">
                            <label for="newPassword" class="capitalize font-bold">New Password:</label>
                            <input type="password" id="newPassword" class="form-control" formControlName="newPassword"
                            [ngClass]="{
                                    'valid':!resetForm.get('password')?.errors  && (resetForm.get('password')?.touched ||  resetForm.get('password')?.dirty ),
                                    'invalid':resetForm.get('password')?.errors  && (resetForm.get('password')?.touched ||  resetForm.get('password')?.dirty ) ,
                                }"
                            >
                            </div>

                        <div class="my-5">
                            <label for="confirmPassword" class="capitalize font-bold">Confirm New Password:</label>
                            <input type="password" id="confirmPassword" class="form-control" formControlName="confirmPassword"
                            [ngClass]="{
                                      'valid':!resetForm.getError('missMatch') && (resetForm.get('rePassword')?.touched || resetForm.get('rePassword')?.dirty ),
                                      'invalid':resetForm.getError('missMatch') && (resetForm.get('rePassword')?.touched || resetForm.get('rePassword')?.dirty ) ,
                                  }"
                            >
                            </div>
                        
                        <button type="submit" [disabled]="resetForm.invalid || loading" class="w-full bg-cyan-500 hover:bg-cyan-600 p-2 rounded-2xl text-white font-bold">
                            Set New Password
                            @if (loading) { <span><i class="fa-solid fa-circle-notch fa-spin"></i></span> }
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>